<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MatrX3D</title>
    <link rel="shortcut icon" href="logo.ico" />
    <link rel="stylesheet" href="complet.css">
    <script type="module">
        // Importer les fonctions nécessaires de Firebase
import { initializeApp } from "firebase/app";
import { getDatabase, ref, set, onValue } from "firebase/database";

// Configuration de Firebase
const firebaseConfig = {
    apiKey: "AIzaSyBozqQRLorjRC48nzn4UDLTmv3h34yhqXs",
    authDomain: "avismatrx3d.firebaseapp.com",
    databaseURL: "https://avismatrx3d-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "avismatrx3d",
    storageBucket: "avismatrx3d.firebasestorage.app",
    messagingSenderId: "616215343920",
    appId: "1:616215343920:web:15646d086cd674f08a4ef5",
    measurementId: "G-BTX2L716ME"
};

// Initialiser Firebase
const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// Soumettre un avis
document.getElementById('reviewForm').addEventListener('submit', function(event) {
    event.preventDefault();
    
    const name = document.getElementById('reviewerName').value;
    const message = document.getElementById('reviewMessage').value;
    const rating = document.querySelector('input[name="rating"]:checked').value;

    const reviewsRef = ref(db, 'reviews/' + Date.now());
    set(reviewsRef, {
        name: name,
        message: message,
        rating: rating,
        timestamp: Date.now()
    }).then(() => {
        alert('Avis soumis avec succès !');
        document.getElementById('reviewForm').reset();
        loadReviews();
    });
});

// Charger les avis
function loadReviews() {
    const reviewsRef = ref(db, 'reviews/');
    onValue(reviewsRef, (snapshot) => {
        const data = snapshot.val();
        const reviewsContainer = document.getElementById('reviews');
        reviewsContainer.innerHTML = ''; // Réinitialiser le conteneur

        for (const key in data) {
            const review = data[key];
            const reviewElement = document.createElement('div');
            reviewElement.classList.add('review');

            // Créer la notation par étoiles
            const stars = Array.from({ length: 5 }, (_, i) => {
                return `<span class="star ${i < review.rating ? 'filled' : ''}">&#9733;</span>`;
            }).join('');

            reviewElement.innerHTML = `
                <strong>${review.name}</strong> (${stars}): <p>${review.message}</p>
            `;
            reviewsContainer.appendChild(reviewElement);
        }
    });
}

// Charger les avis au chargement de la page
window.onload = loadReviews;

// Carrousel de fabrication
document.addEventListener('DOMContentLoaded', function() {
    const images = [
        { src: "images/make1.jpg", desc: "Un petit présentoir des circuits de formule 1, un super cadeau pour tout passionné(e) de formule 1" },
        { src: "images/make2.jpg", desc: "Un présentoir de toutes les couleurs imprimables en 3D" },
        { src: "images/make3.jpg", desc: "Un petit pot à crayon, pratique pour s'organiser" },
        // Ajoute d'autres images si nécessaire
    ];
    let index = 0;

    const track = document.querySelector(".carousel-track");

    function updateCarousel() {
        const prevIndex = (index - 1 + images.length) % images.length;
        const nextIndex = (index + 1) % images.length;

        track.innerHTML = `
            <img src="${images[prevIndex].src}" alt="Make ${prevIndex + 1}" onclick="openImageViewer('${images[prevIndex].src}', '${images[prevIndex].desc}')">
            <img src="${images[index].src}" alt="Make ${index + 1}" class="active" onclick="openImageViewer('${images[index].src}', '${images[index].desc}')">
            <img src="${images[nextIndex].src}" alt="Make ${nextIndex + 1}" onclick="openImageViewer('${images[nextIndex].src}', '${images[nextIndex].desc}')">
        `;
    }

    function nextSlide() {
        index = (index + 1) % images.length;
        updateCarousel();
    }

    function prevSlide() {
        index = (index - 1 + images.length) % images.length;
        updateCarousel();
    }

    setInterval(nextSlide, 4000);
    updateCarousel();

    window.openImageViewer = function(src, desc) {
        document.getElementById("viewerImage").src = src;
        document.getElementById("viewerDescription").textContent = desc;
        document.getElementById("imageViewer").style.display = "flex";
    };

    window.closeImageViewer = function() {
        document.getElementById("imageViewer").style.display = "none";
    };
});
    </script>
</head>
<body>
    <header>
        <h1>Bienvenue chez MatrX3D</h1>
        <nav>
            <ul>
                <li><a href="#accueil">Accueil</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#fabrications">Fabrications</a></li>
                <li><a href="#about">À propos</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="accueil" class="hero">
            <h2>Transformez vos idées en réalité</h2>
            <p>Découvrez nos services d'impression 3D, découpe laser et électronique pour concrétiser tous vos projets.</p>
            <a href="#services" class="cta-button">Explorez nos services</a>
        </section>

        <section id="services" class="services">
            <h2>Nos Services</h2>
            <div class="service-container">
                <div class="service-box">
                    <img src="images/3d-printing.jpg" alt="Impression 3D">
                    <h3>Impression 3D</h3>
                    <p>Fabrication rapide et précise d’objets en 3D pour prototypage ou production.</p>
                </div>
                <div class="service-box">
                    <img src="images/laser-cutting.jpg" alt="Découpe Laser">
                    <h3>Découpe Laser</h3>
                    <p>Découpe et gravure de matériaux variés avec une précision extrême.</p>
                </div>
                <div class="service-box">
                    <img src="images/electronics.jpg" alt="Électronique">
                    <h3>Solutions Électroniques</h3>
                    <p>Développement et intégration de circuits électroniques sur mesure.</p>
                </div>
                <div class="service-box">
                    <img src="images/3d-modeling.png" alt="Modélisation 3D">
                    <h3>Modélisation 3D</h3>
                    <p>Création de modèles 3D personnalisés pour impression, conception et visualisation.</p>
                </div>
            </div>
        </section>

        <section id="fabrications">
            <h2>Nos Fabrications</h2>
            <div class="carousel-container">
                <button class="carousel-arrow left" onclick="prevSlide()">&#10094;</button>
                <div class="carousel-track"></div>
                <button class="carousel-arrow right" onclick="nextSlide()">&#10095;</button>
            </div>
            <div class="pagination">
                <button onclick="prevSlide()">Précédent</button>
                <button onclick="nextSlide()">Suivant</button>
            </div>
            <div id="imageViewer" class="image-viewer">
                <span class="close" onclick="closeImageViewer()" aria-label="Fermer">&times;</span>
                <img id="viewerImage" src="" alt="Agrandissement">
                <div id="viewerDescription" class="description-bubble"></div>
            </div>
        </section>

        <section id="about">
            <h2>À propos de nous</h2>
            <p>Je m'appelle <span class="highlight">Arthur</span>, passionné par l'<span class="highlight">impression 3D</span> depuis plus de <span class="highlight">7 ans</span>. J'ai créé ce site pour proposer des services de <span class="highlight">fabrication numérique</span> sur mesure, accessibles à tous.</p>
            <p>Mon objectif ? Offrir une alternative <span class="highlight">durable</span> et <span class="highlight">éco-responsable</span> en donnant une seconde vie aux pièces difficiles à trouver ou introuvables.</n> Grâce à l'<span class="highlight">impression 3D</span> et à la <span class="highlight">découpe laser</span>, je peux créer des objets <span class="highlight">personnalisés</span>, réparer des équipements et concrétiser vos idées.</p>
        </section>

       <section id="avis">
    <h2>Donnez votre avis</h2>
    <form id="reviewForm">
        <input type="text" id="reviewerName" placeholder="Votre nom" required />
        <textarea id="reviewMessage" placeholder="Votre avis" required></textarea>
        <div class="rating">
            <span>Évaluation :</span>
            <span class="star" data-value="1">&#9733;</span>
            <span class="star" data-value="2">&#9733;</span>
            <span class="star" data-value="3">&#9733;</span>
            <span class="star" data-value="4">&#9733;</span>
            <span class="star" data-value="5">&#9733;</span>
        </div>
        <input type="hidden" id="reviewRating" value="0" />
        <button type="submit">Soumettre votre avis</button>
    </form>
    <div id="reviews"></div>
</section>

    </main>

    <footer>
        <p>&copy; 2025 MatrX3D - Tous droits réservés</p>
    </footer>
</body>
</html>
